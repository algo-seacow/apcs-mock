{"version":3,"sources":["services/api.js","pages/Coding/Problem/index.js","pages/Coding/Problem/const.js","data/problems/20160305-p1.pdf","data/problems/20160305.js","data/problems/20160305-p2.pdf","data/problems/20160305-p3.pdf","data/problems/20160305-p4.pdf","data/const.js","pages/Login/Info/index.js","pages/Login/Rule/index.js","pages/Login/index.js","components/Timer/index.js","pages/Coding/Instruction/index.js","pages/Coding/Instruction/const.js","pages/Coding/Submission/index.js","pages/Coding/Submit/index.js","pages/Coding/Finish/index.js","pages/Coding/index.js","RouteViews.js","components/Footer/index.js","components/App/index.js","reportWebVitals.js","index.js"],"names":["API","call","method","path","data","a","axios","request","url","process","withCredentials","catch","err","window","alert","response","Problem","props","useState","code","setCode","lang","setLang","useEffect","id","res","Buffer","from","toString","getCode","hiddenFileInput","React","useRef","handleChange","event","fileUploaded","target","files","fr","FileReader","onload","current","value","LANGUAGE_ID","result","setChecked","setData","readAsText","className","onClick","open","problems","onChange","e","click","type","ref","style","display","accept","EXTENSION","cols","rows","wrap","readOnly","defaultValue","p1","p2","p3","p4","STU_ID","Info","uid","setUID","placeholder","disabled","length","Rule","start","Login","loading","setLoading","history","useHistory","push","getProfile","Timer","child","Date","now","time","setTime","interval","setInterval","clearInterval","Instruction","Table","columns","useTable","getTableProps","getTableBodyProps","headerGroups","prepareRow","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","i","getRowProps","cells","cell","getCellProps","Submission","checked","getSubmission","useCallback","pid","Array","fill","_","idx","setup","useMemo","Header","accessor","Submit","finish","Finish","isRet","setIsRet","setTimeout","to","undefined","Coding","setStart","isFinish","setIsFinish","rem","Math","floor","minute","second","withRouter","auth","exact","Footer","ip","setIP","get","IPv4","getIP","toLocaleString","timeZone","hour12","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.458ced30.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst host = process.env.REACT_APP_API_URL;\n// const host = 'http://localhost:3001/api';\n\nexport const call = async (method, path, data) => {\n  // console.log(method, host + path)\n  // console.log(\"data:\", data)\n\n  const response = await axios.request({\n    url: host + path,\n    method: method,\n    data: data,\n    withCredentials: true\n  }).catch( err => {\n    window.alert(err);\n  });\n\n  if (response) {\n    // console.log(\"response:\", response.data)\n    return response.data;\n  }\n};\n\nconst API = {\n  call\n};\n\nexport default API;","import React, { useEffect, useState } from 'react';\nimport { LANGUAGE_ID, EXTENSION } from './const';\nimport API from '../../../services/api';\nimport problems from '../../../data/problems/20160305';\n\nimport './index.css'\n\nconst Problem = (props) => {\n  const [code, setCode] = useState('')\n  const [lang, setLang] = useState('cpp')\n\n  useEffect(() => {\n    const getCode = async() => {\n      const res = await API.call('GET', `/code?pid=${props.id}`, {});\n      if (res) {\n        setCode(Buffer.from(res.code, 'base64').toString('ascii'));\n      }\n    }\n\n    getCode();\n  }, [props])\n\n  const hiddenFileInput = React.useRef(null);\n  const handleClick = e => {\n    hiddenFileInput.current.click();\n  }\n\n  const handleChange = async (event) => {\n    const fileUploaded = event.target.files[0];\n    const fr = new FileReader()\n    fr.onload = async () => {\n      hiddenFileInput.current.value = \"\"\n      setCode(\"\")\n      const res = await API.call('POST', '/submission', {\n        \"pid\": props.id,\n        \"language_id\": LANGUAGE_ID[lang],\n        \"source_code\": Buffer.from(fr.result).toString('base64')\n      })\n      if (res) {\n        setCode(fr.result)\n        props.setChecked(props.id - 1);\n        props.setData([])\n      }\n    }\n    if (fileUploaded) {\n      fr.readAsText(fileUploaded)\n    }\n  };\n\n  return (\n    <div className=\"problem\">\n      <div className=\"problem-title\">第 {props.id} 題</div>\n      <button\n        className=\"problem-download-button\"\n        onClick={() => window.open(problems[`p${props.id}`])}\n      >\n        題目下載\n      </button>\n      <div className=\"problem-submit\">\n        <select\n          className=\"problem-submit-language\"\n          onChange={(e) => setLang(e.target.value)}\n          value={lang}\n        >\n          <option value=\"c\">C Files (*.c)</option>\n          <option value=\"cpp\">C++ Files (*.cpp)</option>\n          <option value=\"java\">Java Files (*.java)</option>\n          <option value=\"py2\">Python2 (*.py)</option>\n          <option value=\"py3\">Python3 (*.py)</option>\n        </select>\n        <button\n          className=\"problem-submit-button\"\n          onClick={handleClick}\n        >\n          上傳程式碼\n        </button>\n        <input\n          type=\"file\"\n          ref={hiddenFileInput}\n          onChange={handleChange}\n          style={{display: 'none'}}\n          accept={EXTENSION[lang]}\n        />\n      </div>\n      <div className=\"code-block\">\n        <div>程式碼預覽</div>\n        <textarea\n          cols={80}\n          rows={12}\n          wrap='off'\n          className=\"code-input\"\n          readOnly={true}\n          defaultValue={code} />\n      </div>\n    </div>\n  )\n}\n\nexport default Problem;","export const LANGUAGE_ID = {\n  'c': 50, \n  'cpp': 54,\n  'java': 26,\n  'py2': 36,\n  'py3': 71\n};\n\nexport const EXTENSION = {\n  'c': '.c',\n  'cpp': '.cpp',\n  'java': '.java',\n  'py2': '.py',\n  'py3': '.py'\n};","export default __webpack_public_path__ + \"static/media/20160305-p1.15b201f1.pdf\";","import p1 from './20160305-p1.pdf';\nimport p2 from './20160305-p2.pdf';\nimport p3 from './20160305-p3.pdf';\nimport p4 from './20160305-p4.pdf';\n\nconst problems = { p1, p2, p3, p4 };\n\nexport default problems;","export default __webpack_public_path__ + \"static/media/20160305-p2.5c85446f.pdf\";","export default __webpack_public_path__ + \"static/media/20160305-p3.bc0e7295.pdf\";","export default __webpack_public_path__ + \"static/media/20160305-p4.6f9874dd.pdf\";","export const STU_NAME = '王大明';\nexport const STU_ID = '108000001';","import React, { useState } from \"react\";\nimport './index.css'\nimport { STU_NAME, STU_ID } from '../../../data/const';\n\nconst Info = (props) => {\n\n  const [uid, setUID] = useState('')\n\n  return (\n    <div className=\"info-container\">\n      <div className=\"info-header\">\n        大學程式設計先修檢測\n      </div>\n      <div className=\"info-content\">\n        <pre>{\n          \"檢測內容：\b\b　　程式設計實作題\\n\" + \n          \"檢測開始時間：13:40\\n\" +\n          \"檢測時間：　　150 分鐘\\n\" + \n          \"\\n\" +\n          `應測生姓名：　${STU_NAME}\\n` +\n          `准考證號碼：　${STU_ID}\\n` +\n          `身分證字號：`\n        }</pre>\n        <input\n          className=\"info-id-input\"\n          placeholder={\"僅測試, 勿填個資\"}\n          value={uid}\n          onChange={\n            (e) => setUID(e.target.value)\n          }\n          type=\"password\"\n        />\n        <button\n          className=\"info-login\"\n          disabled={ uid.length === 0 }\n          onClick={ () => props.setUID(uid) }\n        >\n          登入\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Info;","import React from 'react';\nimport './index.css'\n\nconst Rule = (props) => {\n\n  return (\n    <div className=\"rule-container\">\n      <div className=\"rule-title\">\n        程式設計實作題\n      </div>\n      <pre className=\"rule-brief\">\n      {\"檢測時間：150分鐘\\n題數：4題\"}\n      </pre>\n      <div className=\"rule-details-title\">檢測注意事項</div>\n      <pre className=\"rule-details-content\">{\n        \"1. 檢測時間共150分鐘，按下本頁下方[開始檢測並開始計時]按鍵後開始計時。\\n\" +\n        \"2. 檢測期間，如因病、因故(如廁等)需暫時離場時，須經監試人員同意，並在監試人員陪同始准離場。\\n\" +\n        \"3. 離場應測生經治療或處理後，如檢測尚未結束，仍可入場，但不得請求延長時間或補考。\\n\" +\n        \"4. 題目下載後將自動儲存於桌面。\\n\" +\n        \"5. 每題均需自行上傳程式碼，程式碼可重複上傳，評分以最後上傳版本為主。\"\n      }</pre>\n      <button\n        onClick={ props.start }\n      >\n        開始檢測並開始計時\n      </button>\n    </div>\n  )\n}\n\nexport default Rule;","import React, {useEffect, useState} from \"react\";\nimport './index.css'\nimport { useHistory } from 'react-router';\nimport API from \"../../services/api\";\n\nimport Info from './Info/index';\nimport Rule from './Rule/index';\n\nfunction Login() {\n  const [uid, setUID] = useState('');\n  const [loading, setLoading] = useState(true);\n  let history = useHistory();\n\n  useEffect(() => {\n    const getProfile = async() => {\n      const res = await API.call('GET', '/profile', {});\n      if (res.start)\n        history.push('/coding')\n      setLoading(false);\n    }\n\n    getProfile();\n  }, [history]);\n\n  const start = async () => {\n    const res = await API.call('GET', '/start', {})\n\n    if (res)\n      history.push('/coding')\n  }\n\n  if (loading)\n    return <div />\n\n  if (uid.length === 0)\n    return <Info setUID={setUID} />\n  \n  return <Rule start={start} />\n}\n\nexport default Login;","import { useEffect, useState } from \"react\";\n\nconst Timer = ({ child }) => {\n  const [time, setTime] = useState(Date.now());\n\n  useEffect( () => {\n    const interval = setInterval(\n      () => setTime(Date.now()\n    ), 1000);\n    \n    return () => {\n      clearInterval(interval);\n    }\n  }, [])\n\n  return child(time);\n}\n\nexport default Timer;","import { INSTRUCTION } from './const';\n\nconst Instruction = () => {\n  return (\n    <pre className=\"instruction-container\">\n      { INSTRUCTION }\n    </pre>\n  );\n}\n\nexport default Instruction;","export const INSTRUCTION = \"說明：\\n\"\n  + \"1. 下載題目後, 可點選本系統右上角\\\"-\\\"圖示縮小至工具列後, 請使用桌面上所提供的開發工具作答。\\n\"\n  + \"2. 作答檔案的檔名須依照題目指示命名, 大小寫須一致。副檔名須依照使用的程式語言命名為.c、 .cpp、 .java或.py。\\n\"\n  + \"3. 作答結果上傳時, 請先選擇所使用的程式語言, 再點選上傳程式碼按鈕, 選擇要上傳的作答程式碼檔案即可。請勿上傳執行檔！\";\n","import React, { useEffect, useCallback, useMemo } from 'react';\nimport API from '../../../services/api';\n\n// const Table = (data) => {\n//   console.log(data.data)\n//   return data.data.map( (record) =>\n//     <div>\n//     {`${record.id}\\t${record.pid}\\t${record.language}\\t${record.title}\\t${record.result}\\t${record.time}`}\n//     </div>\n//   )\n// }\n\n// Table.js\n\nimport { useTable } from \"react-table\";\n\nfunction Table({ columns, data }) {\n  // Use the useTable Hook to send the columns and data to build the table\n  const {\n    getTableProps, // table props from react-table\n    getTableBodyProps, // table body props from react-table\n    headerGroups, // headerGroups, if your table has groupings\n    rows, // rows for the table based on the data passed\n    prepareRow // Prepare the row (this function needs to be called for each row before getting the row props)\n  } = useTable({\n    columns,\n    data\n  });\n\n  /* \n    Render the UI for your table\n    - react-table doesn't have UI, it's headless. We just need to put the react-table props from the Hooks, and it will do its magic automatically\n  */\n  return (\n    <table {...getTableProps()}>\n      <thead>\n        {headerGroups.map(headerGroup => (\n          <tr {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.map(column => (\n              <th {...column.getHeaderProps()}>{column.render(\"Header\")}</th>\n            ))}\n          </tr>\n        ))}\n      </thead>\n      <tbody {...getTableBodyProps()}>\n        {rows.map((row, i) => {\n          prepareRow(row);\n          return (\n            <tr {...row.getRowProps()}>\n              {row.cells.map(cell => {\n                return <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>;\n              })}\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n\nconst Submission = ({ checked, setChecked, data, setData }) => {\n  const getSubmission = useCallback(async(pid) => {\n    setData(await API.call('GET', `/submission?pid=${pid}`, {}));\n  }, [setData])\n\n  useEffect(() => {\n\n    getSubmission(checked + 1)\n    const interval = setInterval(\n      () => getSubmission(checked + 1)\n    , 3000);\n    \n    return () => {\n      clearInterval(interval);\n    }\n  }, [checked, getSubmission])\n\n  const setup = (idx) => {\n    setChecked(idx);\n    getSubmission(idx + 1);\n  }\n\n  return (\n    <div className=\"submission-container\">\n      <div className=\"submission-controller\">\n        程式碼執行結果:\n        {\n          Array(4).fill(0).map( (_, idx) =>\n            <span key={idx}> \n              <input\n                type=\"checkbox\"\n                checked={checked === idx}\n                onChange={ () => setup(idx) }\n              />\n              <span>{`第${idx + 1}題 `}</span>\n            </span>\n          )\n        }\n      </div>\n      <Table\n        columns={useMemo(() => [\n          {\n            Header: \"序號\",\n            accessor: \"id\",\n            className: \"red\"\n          },\n          {\n            Header: \"題號\",\n            accessor: \"pid\"\n          },\n          {\n            Header: \"語言\",\n            accessor: \"language\"\n          },\n          {\n            Header: \"執行\",\n            accessor: \"title\"\n          },\n          {\n            Header: \"執行結果\",\n            accessor: \"result\"\n          },\n          {\n            Header: \"時間\",\n            accessor: \"time\"\n          }\n        ], [])}\n        data={useMemo(() => data, [data])}\n      />\n    </div>\n  );\n}\n\nexport default Submission;","import React from 'react';\nimport './index.css';\n\nconst Submit = ({ finish }) => {\n\n  return (\n    <button\n      className=\"submit\"\n      onClick={ () => finish() }\n    >\n      結束作答。送出答案\n    </button>\n  )\n}\n\nexport default Submit;","import React, { useEffect, useState } from \"react\";\nimport './index.css'\nimport { Link } from 'react-router-dom'\n\nconst Finish = () => {\n\n  const [isRet, setIsRet] = useState(false);\n\n  useEffect( () => {\n    setTimeout(() => setIsRet(true), 3000)\n  }, [])\n\n  return (\n    <>\n      <pre className=\"finish-container\">{\n        \"自動驗證完畢，本節次檢測結束。\\n\" +\n        \"請靜候監考人員宣佈後方可離場。\"\n      }\n      <Link to={isRet ? \"/\" : \"#\"} className={`finish-return ${isRet ? undefined : 'hidden'}`}>回到首頁</Link>\n      </pre>\n    </>\n  )\n}\n\nexport default Finish;","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport API from '../../services/api';\nimport Timer from '../../components/Timer/index';\nimport Instruction from './Instruction/index';\nimport Problem from './Problem/index';\nimport Submission from './Submission/index';\nimport Submit from './Submit/index';\nimport Finish from './Finish/index';\nimport './index.css'\n\n\nconst Coding = () => {\n\n  let history = useHistory();\n  const [start, setStart] = useState(undefined);\n  const [loading, setLoading] = useState(true);\n  const [checked, setChecked] = useState(0)\n  const [isFinish, setIsFinish] = useState(false);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    const getProfile = async() => {\n      const res = await API.call('GET', '/profile', {});\n      if (res.start === undefined)\n        history.push('/');\n      setStart(res.start);\n      setLoading(false);\n    }\n\n    getProfile();\n  }, [history]);\n\n  const finish = async() => {\n    const res = await API.call('GET', '/finish', {});\n    if (res)\n      setIsFinish(true);\n  }\n\n  const getRemainTime = (time) => {\n    if (start === undefined)\n      return <div className=\"timer-container\" />\n    const rem = Math.floor(150 * 60 - (time - start) / 1000);\n\n    if (rem < 0)\n      history.push('/');\n      \n    const minute = Math.floor(rem / 60)\n    const second = rem - minute * 60;\n    \n    return (\n      <div className=\"timer-container\">\n        {`距離檢測時間結束尚有 ${minute} 分 ${second} 秒`}\n      </div>\n    )\n  }\n\n  if (loading)\n    return <div />\n\n  if (isFinish)\n    return <Finish />\n\n  return (\n    <div className=\"coding-container\">\n      <Timer child={getRemainTime} />\n      <Instruction />\n      <div className=\"problem-container\">\n        <Problem id={1} setChecked={setChecked} data={data} setData={setData}/>\n        <Problem id={2} setChecked={setChecked} data={data} setData={setData}/>\n        <Problem id={3} setChecked={setChecked} data={data} setData={setData}/>\n        <Problem id={4} setChecked={setChecked} data={data} setData={setData}/>\n      </div>\n      <div className=\"submission-container\">\n        <Submission checked={checked} setChecked={setChecked} data={data} setData={setData} />\n      </div>\n      <div className=\"submit-container\">\n        <Submit finish={finish} />\n      </div>\n    </div>\n  );\n}\n\nexport default Coding;","import React from \"react\";\nimport { Switch, Route, withRouter } from 'react-router-dom'\nimport Login from './pages/Login/index.js'\nimport Coding from './pages/Coding/index.js'\n\nconst RouteViews = ({ auth }) => (\n  <Switch>\n    <Route exact path=\"/\"\n      render={ props => <Login {...props} /> }\n    />\n    <Route exact path=\"/coding\"\n      render={ props => <Coding {...props} /> }\n    />\n  </Switch>\n);\n\n\nexport default withRouter(RouteViews);","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './index.css';\nimport { STU_ID } from '../../data/const';\nimport Timer from '../Timer/index';\n\nconst Footer = () => {\n  const [ip, setIP] = useState('0.0.0.0');\n\n  useEffect(() => {\n    const getIP = async () => {\n      const res = await axios.get('https://geolocation-db.com/json/')\n      setIP(res.data.IPv4);\n    }\n\n    getIP();\n  })\n  \n  const getFooterInfo = () => {\n    return `本機IP: ${ip}  版本:b8e3c  准考證號碼:${STU_ID}`\n  }\n\n  const toCurrentString = (time) => {\n    return `現在時間: ${new Date(time).toLocaleString('zh-TW', {timeZone: 'Asia/Taipei', hour12: false})}`\n  }\n\n  return (\n    <div className=\"footer-container\">\n      <div>{getFooterInfo()}</div>\n      <Timer child={toCurrentString} />\n    </div>\n  );\n}\n\nexport default Footer;","import React from 'react';\nimport './index.css';\nimport { HashRouter } from 'react-router-dom';\nimport RouteViews from '../../RouteViews';\nimport Footer from '../Footer/index';\n\nconst App = () => {\n  return (\n    <div className=\"app-container\">\n      <div className=\"app-view\">\n        <HashRouter>\n          <RouteViews />\n        </HashRouter>\n      </div>\n      <div className=\"app-footer\">\n        <Footer />\n      </div>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}