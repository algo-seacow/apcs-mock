{"version":3,"sources":["services/api.js","pages/Coding/Problem/index.js","pages/Coding/Problem/const.js","data/problems/20160305-p1.pdf","data/problems/20160305.js","data/problems/20160305-p2.pdf","data/problems/20160305-p3.pdf","data/problems/20160305-p4.pdf","data/const.js","pages/Login/Info/index.js","pages/Login/Rule/index.js","pages/Login/index.js","components/Timer/index.js","pages/Coding/Instruction/index.js","pages/Coding/Instruction/const.js","pages/Coding/Submission/index.js","pages/Coding/Submit/index.js","pages/Coding/Finish/index.js","pages/Coding/index.js","RouteViews.js","components/Footer/index.js","components/App/index.js","reportWebVitals.js","index.js"],"names":["call","method","path","data","axios","request","url","process","withCredentials","catch","err","console","log","response","API","Problem","id","setChecked","setData","useState","code","setCode","lang","setLang","useEffect","getCode","res","Buffer","from","toString","hiddenFileInput","React","useRef","handleChange","event","fileUploaded","target","files","fr","FileReader","onload","current","value","LANGUAGE_ID","result","readAsText","className","onClick","window","open","problems","onChange","e","click","type","ref","style","display","accept","EXTENSION","cols","rows","wrap","readOnly","defaultValue","p1","p2","p3","p4","STU_ID","Info","props","uid","setUID","fontSize","placeholder","disabled","length","Rule","start","Login","loading","setLoading","history","useHistory","getProfile","push","Timer","child","Date","now","time","setTime","interval","setInterval","clearInterval","Instruction","Styles","styled","div","Table","columns","useTable","getTableProps","getTableBodyProps","headerGroups","prepareRow","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","i","getRowProps","cells","cell","getCellProps","Submission","checked","getSubmission","useCallback","pid","Array","fill","_","idx","setup","useMemo","Header","accessor","Submit","finish","Finish","isRet","setIsRet","setTimeout","to","undefined","Coding","setStart","isFinish","setIsFinish","rem","Math","floor","minute","second","withRouter","auth","exact","Footer","ip","setIP","getIP","get","IPv4","toLocaleString","timeZone","hour12","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3c41874.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst host = process.env.REACT_APP_API_URL;\n// const host = 'http://localhost:3001/api';\n\nexport const call = async (method, path, data) => {\n  // console.log(method, host + path)\n  // console.log(\"data:\", data)\n\n  const response = await axios.request({\n    url: host + path,\n    method: method,\n    data: data,\n    withCredentials: true\n  }).catch( err => {\n    // window.alert(err);\n    console.log(err);\n  });\n\n  if (response) {\n    // console.log(\"response:\", response.data)\n    return response.data;\n  }\n};\n\nconst API = {\n  call\n};\n\nexport default API;","import React, { useEffect, useState } from 'react';\nimport { LANGUAGE_ID, EXTENSION } from './const';\nimport API from '../../../services/api';\nimport problems from '../../../data/problems/20160305';\n\nimport './index.css'\n\nconst Problem = ({ id, setChecked, setData }) => {\n  const [code, setCode] = useState('')\n  const [lang, setLang] = useState('cpp')\n\n  useEffect(() => {\n    const getCode = async() => {\n      const res = await API.call('GET', `/code?pid=${id}`, {});\n      if (res) {\n        setCode(Buffer.from(res.code, 'base64').toString('utf-8'));\n      }\n    }\n\n    getCode();\n  }, [id])\n\n  const hiddenFileInput = React.useRef(null);\n  const handleClick = e => {\n    hiddenFileInput.current.click();\n  }\n\n  const handleChange = async (event) => {\n    const fileUploaded = event.target.files[0];\n    const fr = new FileReader()\n    fr.onload = async () => {\n      hiddenFileInput.current.value = \"\"\n      setCode(\"\")\n      const res = await API.call('POST', '/submission', {\n        \"pid\": id,\n        \"language_id\": LANGUAGE_ID[lang],\n        \"source_code\": Buffer.from(fr.result).toString('base64')\n      })\n      if (res) {\n        setCode(fr.result)\n        setChecked(id - 1);\n        setData([])\n      }\n    }\n    if (fileUploaded) {\n      fr.readAsText(fileUploaded)\n    }\n  };\n\n  return (\n    <div className=\"problem\">\n      <div className=\"problem-title\">第 {id} 題</div>\n      <button\n        className=\"problem-download-button\"\n        onClick={() => window.open(problems[`p${id}`])}\n      >\n        題目下載\n      </button>\n      <div className=\"problem-submit\">\n        <select\n          className=\"problem-submit-language\"\n          onChange={(e) => setLang(e.target.value)}\n          value={lang}\n        >\n          <option value=\"c\">C Files (*.c)</option>\n          <option value=\"cpp\">C++ Files (*.cpp)</option>\n          <option value=\"java\">Java Files (*.java)</option>\n          <option value=\"py2\">Python2 (*.py)</option>\n          <option value=\"py3\">Python3 (*.py)</option>\n        </select>\n        <button\n          className=\"problem-submit-button\"\n          onClick={handleClick}\n        >\n          上傳程式碼\n        </button>\n        <input\n          type=\"file\"\n          ref={hiddenFileInput}\n          onChange={handleChange}\n          style={{display: 'none'}}\n          accept={EXTENSION[lang]}\n        />\n      </div>\n      <div className=\"code-block\">\n        <div>程式碼預覽</div>\n        <textarea\n          cols={80}\n          rows={12}\n          wrap='off'\n          className=\"code-input\"\n          readOnly={true}\n          defaultValue={code} />\n      </div>\n    </div>\n  )\n}\n\nexport default Problem;","export const LANGUAGE_ID = {\n  'c': 50, \n  'cpp': 54,\n  'java': 62,\n  'py2': 70,\n  'py3': 71\n};\n\nexport const EXTENSION = {\n  'c': '.c',\n  'cpp': '.cpp',\n  'java': '.java',\n  'py2': '.py',\n  'py3': '.py'\n};","export default __webpack_public_path__ + \"static/media/20160305-p1.15b201f1.pdf\";","import p1 from './20160305-p1.pdf';\nimport p2 from './20160305-p2.pdf';\nimport p3 from './20160305-p3.pdf';\nimport p4 from './20160305-p4.pdf';\n\nconst problems = { p1, p2, p3, p4 };\n\nexport default problems;","export default __webpack_public_path__ + \"static/media/20160305-p2.5c85446f.pdf\";","export default __webpack_public_path__ + \"static/media/20160305-p3.bc0e7295.pdf\";","export default __webpack_public_path__ + \"static/media/20160305-p4.6f9874dd.pdf\";","export const STU_NAME = '王大明';\nexport const STU_ID = '108000001';","import React, { useState } from \"react\";\nimport './index.css'\nimport { STU_NAME, STU_ID } from '../../../data/const';\n\nconst Info = (props) => {\n\n  const [uid, setUID] = useState('')\n\n  return (\n    <div className=\"info-container\">\n      <div className=\"info-header\">\n        大學程式設計先修檢測<br />\n        <span style={{ fontSize: '16px' }}>建議使用 chrome / edge 並關閉無痕模式</span>\n      </div>\n      <div className=\"info-content\">\n        <pre>{\n          \"檢測內容：\b\b　　程式設計實作題\\n\" + \n          \"檢測開始時間：13:40\\n\" +\n          \"檢測時間：　　150 分鐘\\n\" + \n          \"\\n\" +\n          `應測生姓名：　${STU_NAME}\\n` +\n          `准考證號碼：　${STU_ID}\\n` +\n          `身分證字號：`\n        }</pre>\n        <input\n          className=\"info-id-input\"\n          placeholder={\"僅測試, 勿填個資\"}\n          value={uid}\n          onChange={\n            (e) => setUID(e.target.value)\n          }\n          type=\"password\"\n        />\n        <button\n          className=\"info-login\"\n          disabled={ uid.length === 0 }\n          onClick={ () => props.setUID(uid) }\n        >\n          登入\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Info;","import React from 'react';\nimport './index.css'\n\nconst Rule = (props) => {\n\n  return (\n    <div className=\"rule-container\">\n      <div className=\"rule-title\">\n        程式設計實作題\n      </div>\n      <pre className=\"rule-brief\">\n      {\"檢測時間：150分鐘\\n題數：4題\"}\n      </pre>\n      <div className=\"rule-details-title\">檢測注意事項</div>\n      <pre className=\"rule-details-content\">{\n        \"1. 檢測時間共150分鐘，按下本頁下方[開始檢測並開始計時]按鍵後開始計時。\\n\" +\n        \"2. 檢測期間，如因病、因故(如廁等)需暫時離場時，須經監試人員同意，並在監試人員陪同始准離場。\\n\" +\n        \"3. 離場應測生經治療或處理後，如檢測尚未結束，仍可入場，但不得請求延長時間或補考。\\n\" +\n        \"4. 題目下載後將自動儲存於桌面。\\n\" +\n        \"5. 每題均需自行上傳程式碼，程式碼可重複上傳，評分以最後上傳版本為主。\"\n      }</pre>\n      <button\n        onClick={ props.start }\n      >\n        開始檢測並開始計時\n      </button>\n    </div>\n  )\n}\n\nexport default Rule;","import React, {useEffect, useState} from \"react\";\nimport './index.css'\nimport { useHistory } from 'react-router';\nimport API from \"../../services/api\";\n\nimport Info from './Info/index';\nimport Rule from './Rule/index';\n\nfunction Login() {\n  const [uid, setUID] = useState('');\n  const [loading, setLoading] = useState(true);\n  let history = useHistory();\n\n  useEffect(() => {\n    const getProfile = async() => {\n      const res = await API.call('GET', '/profile', {});\n      if (res.start)\n        history.push('/coding')\n      setLoading(false);\n    }\n\n    getProfile();\n  }, [history]);\n\n  const start = async () => {\n    const res = await API.call('GET', '/start', {})\n\n    if (res)\n      history.push('/coding')\n  }\n\n  if (loading)\n    return <div />\n\n  if (uid.length === 0)\n    return <Info setUID={setUID} />\n  \n  return <Rule start={start} />\n}\n\nexport default Login;","import { useEffect, useState } from \"react\";\n\nconst Timer = ({ child }) => {\n  const [time, setTime] = useState(Date.now());\n\n  useEffect( () => {\n    const interval = setInterval(\n      () => setTime(Date.now()\n    ), 1000);\n    \n    return () => {\n      clearInterval(interval);\n    }\n  }, [])\n\n  return child(time);\n}\n\nexport default Timer;","import { INSTRUCTION } from './const';\n\nconst Instruction = () => {\n  return (\n    <pre className=\"instruction-container\">\n      { INSTRUCTION }\n    </pre>\n  );\n}\n\nexport default Instruction;","export const INSTRUCTION = \"說明：\\n\"\n  + \"1. 下載題目後, 可點選本系統右上角\\\"-\\\"圖示縮小至工具列後, 請使用桌面上所提供的開發工具作答。\\n\"\n  + \"2. 作答檔案的檔名須依照題目指示命名, 大小寫須一致。副檔名須依照使用的程式語言命名為.c、 .cpp、 .java或.py。\\n\"\n  + \"3. 作答結果上傳時, 請先選擇所使用的程式語言, 再點選上傳程式碼按鈕, 選擇要上傳的作答程式碼檔案即可。請勿上傳執行檔！\";\n","import React, { useEffect, useCallback, useMemo } from 'react';\nimport API from '../../../services/api';\nimport styled from 'styled-components'\n\nimport { useTable } from \"react-table\";\n\nconst Styles = styled.div`\n  padding: 1rem;\n\n  table {\n    margin: 0 auto;\n    width: 100%;\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th {\n      background: #ccc;\n    }\n    \n    th,\n    td {\n      margin: 0;\n      padding: 3px;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      text-align: center;\n\n      :nth-child(4) {\n        min-width: 40vw;\n      }\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n`\n\nfunction Table({ columns, data }) {\n  // Use the useTable Hook to send the columns and data to build the table\n  const {\n    getTableProps, // table props from react-table\n    getTableBodyProps, // table body props from react-table\n    headerGroups, // headerGroups, if your table has groupings\n    rows, // rows for the table based on the data passed\n    prepareRow // Prepare the row (this function needs to be called for each row before getting the row props)\n  } = useTable({\n    columns,\n    data\n  });\n\n  /* \n    Render the UI for your table\n    - react-table doesn't have UI, it's headless. We just need to put the react-table props from the Hooks, and it will do its magic automatically\n  */\n  return (\n    <table {...getTableProps()}>\n      <thead>\n        {headerGroups.map(headerGroup => (\n          <tr {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.map(column => (\n              <th {...column.getHeaderProps()}>{column.render(\"Header\")}</th>\n            ))}\n          </tr>\n        ))}\n      </thead>\n      <tbody {...getTableBodyProps()}>\n        {rows.map((row, i) => {\n          prepareRow(row);\n          return (\n            <tr {...row.getRowProps()}>\n              {row.cells.map(cell => {\n                return <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>;\n              })}\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n\nconst Submission = ({ checked, setChecked, data, setData }) => {\n  const getSubmission = useCallback(async(pid) => {\n    setData(await API.call('GET', `/submission?pid=${pid}`, {}));\n  }, [setData])\n\n  useEffect(() => {\n\n    getSubmission(checked + 1)\n    const interval = setInterval(\n      () => getSubmission(checked + 1)\n    , 3000);\n    \n    return () => {\n      clearInterval(interval);\n    }\n  }, [checked, getSubmission])\n\n  const setup = (idx) => {\n    setChecked(idx);\n    getSubmission(idx + 1);\n  }\n\n  return (\n    <div className=\"submission-container\">\n      <div className=\"submission-controller\">\n        程式碼執行結果:\n        {\n          Array(4).fill(0).map( (_, idx) =>\n            <span key={idx}> \n              <input\n                type=\"checkbox\"\n                checked={checked === idx}\n                onChange={ () => setup(idx) }\n              />\n              <span>{`第${idx + 1}題 `}</span>\n            </span>\n          )\n        }\n      </div>\n      <Styles>\n      <Table\n        columns={useMemo(() => [\n          {\n            Header: \"序號\",\n            accessor: \"id\",\n            className: \"red\"\n          },\n          {\n            Header: \"題號\",\n            accessor: \"pid\"\n          },\n          {\n            Header: \"語言\",\n            accessor: \"language\"\n          },\n          {\n            Header: \"執行\",\n            accessor: \"title\"\n          },\n          {\n            Header: \"執行結果\",\n            accessor: \"result\"\n          },\n          {\n            Header: \"時間\",\n            accessor: \"time\"\n          }\n        ], [])}\n        data={useMemo(() => data, [data])}\n      />\n      </Styles>\n    </div>\n  );\n}\n\nexport default Submission;","import React from 'react';\nimport './index.css';\n\nconst Submit = ({ finish }) => {\n\n  return (\n    <button\n      className=\"submit\"\n      onClick={ () => finish() }\n    >\n      結束作答。送出答案\n    </button>\n  )\n}\n\nexport default Submit;","import React, { useEffect, useState } from \"react\";\nimport './index.css'\nimport { Link } from 'react-router-dom'\n\nconst Finish = () => {\n\n  const [isRet, setIsRet] = useState(false);\n\n  useEffect( () => {\n    setTimeout(() => setIsRet(true), 3000)\n  }, [])\n\n  return (\n    <>\n      <pre className=\"finish-container\">{\n        \"自動驗證完畢，本節次檢測結束。\\n\" +\n        \"請靜候監考人員宣佈後方可離場。\"\n      }\n      <Link to={isRet ? \"/\" : \"#\"} className={`finish-return ${isRet ? undefined : 'hidden'}`}>回到首頁</Link>\n      </pre>\n    </>\n  )\n}\n\nexport default Finish;","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport API from '../../services/api';\nimport Timer from '../../components/Timer/index';\nimport Instruction from './Instruction/index';\nimport Problem from './Problem/index';\nimport Submission from './Submission/index';\nimport Submit from './Submit/index';\nimport Finish from './Finish/index';\nimport './index.css'\n\n\nconst Coding = () => {\n\n  let history = useHistory();\n  const [start, setStart] = useState(undefined);\n  const [loading, setLoading] = useState(true);\n  const [checked, setChecked] = useState(0)\n  const [isFinish, setIsFinish] = useState(false);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    const getProfile = async() => {\n      const res = await API.call('GET', '/profile', {});\n      if (res.start === undefined)\n        history.push('/');\n      setStart(res.start);\n      setLoading(false);\n    }\n\n    getProfile();\n  }, [history]);\n\n  const finish = async() => {\n    const res = await API.call('GET', '/finish', {});\n    if (res)\n      setIsFinish(true);\n  }\n\n  const getRemainTime = (time) => {\n    if (start === undefined)\n      return <div className=\"timer-container\" />\n    const rem = Math.floor(150 * 60 - (time - start) / 1000);\n\n    if (rem < 0)\n      history.push('/');\n      \n    const minute = Math.floor(rem / 60)\n    const second = rem - minute * 60;\n    \n    return (\n      <div className=\"timer-container\">\n        {`距離檢測時間結束尚有 ${minute} 分 ${second} 秒`}\n      </div>\n    )\n  }\n\n  if (loading)\n    return <div />\n\n  if (isFinish)\n    return <Finish />\n\n  return (\n    <div className=\"coding-container\">\n      <Timer child={getRemainTime} />\n      <Instruction />\n      <div className=\"problem-container\">\n        <Problem id={1} setChecked={setChecked} data={data} setData={setData}/>\n        <Problem id={2} setChecked={setChecked} data={data} setData={setData}/>\n        <Problem id={3} setChecked={setChecked} data={data} setData={setData}/>\n        <Problem id={4} setChecked={setChecked} data={data} setData={setData}/>\n      </div>\n      <div className=\"submission-container\">\n        <Submission checked={checked} setChecked={setChecked} data={data} setData={setData} />\n      </div>\n      <div className=\"submit-container\">\n        <Submit finish={finish} />\n      </div>\n    </div>\n  );\n}\n\nexport default Coding;","import React from \"react\";\nimport { Switch, Route, withRouter } from 'react-router-dom'\nimport Login from './pages/Login/index.js'\nimport Coding from './pages/Coding/index.js'\n\nconst RouteViews = ({ auth }) => (\n  <Switch>\n    <Route exact path=\"/\"\n      render={ props => <Login {...props} /> }\n    />\n    <Route exact path=\"/coding\"\n      render={ props => <Coding {...props} /> }\n    />\n  </Switch>\n);\n\n\nexport default withRouter(RouteViews);","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './index.css';\nimport { STU_ID } from '../../data/const';\nimport Timer from '../Timer/index';\n\nconst Footer = () => {\n  const [ip, setIP] = useState('0.0.0.0');\n\n  useEffect(() => {\n    const getIP = async () => {\n      const res = await axios.get('https://geolocation-db.com/json/')\n      setIP(res.data.IPv4);\n    }\n\n    getIP();\n  })\n  \n  const getFooterInfo = () => {\n    return `本機IP: ${ip}  版本:b8e3c  准考證號碼:${STU_ID}`\n  }\n\n  const toCurrentString = (time) => {\n    return `現在時間: ${new Date(time).toLocaleString('zh-TW', {timeZone: 'Asia/Taipei', hour12: false})}`\n  }\n\n  return (\n    <div className=\"footer-container\">\n      <div>{getFooterInfo()}</div>\n      <Timer child={toCurrentString} />\n    </div>\n  );\n}\n\nexport default Footer;","import React from 'react';\nimport './index.css';\nimport { HashRouter } from 'react-router-dom';\nimport RouteViews from '../../RouteViews';\nimport Footer from '../Footer/index';\n\nconst App = () => {\n  return (\n    <div className=\"app-container\">\n      <div className=\"app-view\">\n        <HashRouter>\n          <RouteViews />\n        </HashRouter>\n      </div>\n      <div className=\"app-footer\">\n        <Footer />\n      </div>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}